apiVersion: v1
kind: Deployment
metadata:
  name: assignment-backend
spec:
  replicas: 3
  containers:
  - name: backend
    image: tommartensen/mocc-assignment-backend:latest
    ports:
      - name: http
        ports: 80
    livenessProbe:
      httpGet:
        path: /ready
        port: 80
        httpHeaders:
        - name: CC-Ready
          value: Backend
      initialDelaySeconds: 3
      periodSeconds: 3
    readinessProbe:
      httpGet:
        path: /ready
        port: 80
        httpHeaders:
        - name: CC-Ready
          value: Backend
      initialDelaySeconds: 3
      periodSeconds: 3
